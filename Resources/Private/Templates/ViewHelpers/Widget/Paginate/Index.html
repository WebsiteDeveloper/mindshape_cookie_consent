<html data-namespace-typo3-fluid="true" lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://typo3.org/ns/TYPO3Fluid/Fluid/ViewHelpers">

  <f:if condition="{configuration.insertAbove}">
    <f:render section="paginator" arguments="{pagination: pagination, configuration: configuration}"/>
  </f:if>

  <f:renderChildren arguments="{contentArguments}"/>

  <f:if condition="{configuration.insertBelow}">
    <f:render section="paginator" arguments="{pagination: pagination, configuration: configuration}"/>
  </f:if>

  <f:section name="paginator">

    <nav>
      <ul class="pagination">
        <f:if condition="{pagination.previousPage}">
          <f:then>
            <li class="previous">
              <f:if condition="{pagination.previousPage} > 1">
                <f:then>
                  <f:widget.link rel="prev" arguments="{currentPage: pagination.previousPage}" additionalAttributes="{aria-label: '{f:translate(key: \'widget.pagination.previous\')}'}" addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">
                    <span aria-hidden="true">&laquo;</span>
                  </f:widget.link>
                </f:then>
                <f:else>
                  <f:widget.link rel="prev" additionalAttributes="{aria-label: '{f:translate(key: \'widget.pagination.previous\')}'}" addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">
                    <span aria-hidden="true">&laquo;</span>
                  </f:widget.link>
                </f:else>
              </f:if>
            </li>
          </f:then>
          <f:else>
            <li class="disabled">
              <span>
                <span aria-hidden="true">&laquo;</span>
              </span>
            </li>
          </f:else>
        </f:if>
        <f:if condition="{pagination.displayRangeStart} > 1">
          <li class="first">
            <f:widget.link addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">1</f:widget.link>
          </li>
        </f:if>
        <f:if condition="{pagination.hasLessPages}">
          <li>…</li>
        </f:if>
        <f:for each="{pagination.pages}" as="page">
          <f:if condition="{page.isCurrent}">
            <f:then>
              <li class="active">
                <span>
                  {page.number}
                  <span class="sr-only"></span>
                </span>
              </li>
            </f:then>
            <f:else>
              <li>
                <f:if condition="{page.number} > 1">
                  <f:then>
                    <f:widget.link arguments="{currentPage: page.number}" addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">{page.number}</f:widget.link>
                  </f:then>
                  <f:else>
                    <f:widget.link addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">{page.number}</f:widget.link>
                  </f:else>
                </f:if>
              </li>
            </f:else>
          </f:if>
        </f:for>
        <f:if condition="{pagination.hasMorePages}">
          <li>…</li>
        </f:if>
        <f:if condition="{pagination.displayRangeEnd} < {pagination.numberOfPages}">
          <li class="last">
            <f:widget.link arguments="{currentPage: pagination.numberOfPages}" addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">{pagination.numberOfPages}</f:widget.link>
          </li>
        </f:if>
        <f:if condition="{pagination.nextPage}">
          <f:then>
            <li class="next">
              <f:widget.link rel="next" arguments="{currentPage: pagination.nextPage}" additionalAttributes="{aria-label: '{f:translate(key: \'widget.pagination.next\')}'}" addQueryStringMethod="{configuration.addQueryStringMethod}" section="{configuration.section}">
                <span aria-hidden="true">&raquo;</span>
              </f:widget.link>
            </li>
          </f:then>
          <f:else>
            <li class="disabled">
              <span>
                <span aria-hidden="true">&raquo;</span>
              </span>
            </li>
          </f:else>
        </f:if>
      </ul>
    </nav>

  </f:section>

</html>
